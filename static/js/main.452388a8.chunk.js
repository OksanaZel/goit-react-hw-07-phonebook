(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{102:function(t,e,n){},226:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchContacts",(function(){return E})),n.d(r,"addContact",(function(){return J})),n.d(r,"deleteContact",(function(){return N}));var a={};n.r(a),n.d(a,"getContacts",(function(){return M})),n.d(a,"getIsLoading",(function(){return P})),n.d(a,"getFilter",(function(){return R})),n.d(a,"getVisibleContacts",(function(){return T}));var c={};n.r(c),n.d(c,"changeFilter",(function(){return U}));var u,i,o=n(1),s=n.n(o),b=n(37),l=n.n(b),d=(n(102),n(39)),p=n(40),f=p.a.div(u||(u=Object(d.a)(["\nwidth: 900px;\nbackground: #FFFFFF;\nbox-shadow: 0px 4px 10px #2196f3;\nmargin: 20px auto;\npadding: 25px;\n"]))),j=p.a.h2(i||(i=Object(d.a)(["\nmargin-bottom: 25px;\n"]))),x=n(2);var h=function(t){var e=t.title;return Object(x.jsx)(j,{children:e})},m=n(11),O=n(88),g=n(89),v=n(12);var w=Object(v.a)("ul",{target:"e10bbcz92"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),y=Object(v.a)("li",{target:"e10bbcz91"})({name:"1eiweqw",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;max-width:550px;& svg{width:18px;height:18px;}"}),C=Object(v.a)("button",{target:"e10bbcz90"})({name:"7smd10",styles:"display:flex;align-items:center;justify-content:center;min-width:200px;padding:2px 32px;box-shadow:0px 4px 4px rgba(0, 0, 0, 0.15);border-radius:4px;border-style:none;cursor:pointer;font-weight:bold;font-size:16px;line-height:1.88;letter-spacing:0.06em;color:#ffffff;background-color:#2196f3;& svg{color:#fff;height:18px;width:18px;margin-right:10px;}"}),k=n(7),F=n.n(k),z=n(19),S=n(6),L=n(30),V=n.n(L);function q(){return A.apply(this,arguments)}function A(){return(A=Object(z.a)(F.a.mark((function t(){var e,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return W.apply(this,arguments)}function W(){return(W=Object(z.a)(F.a.mark((function t(e){var n,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.post("/contacts",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){return B.apply(this,arguments)}function B(){return(B=Object(z.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.delete("/contacts/".concat(e));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}V.a.defaults.baseURL="https://611a3057cbf1b30017eb5586.mockapi.io/api/v1/";var E=Object(S.c)("contacts/fetchContacts",function(){var t=Object(z.a)(F.a.mark((function t(e,n){var r,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,q();case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),J=Object(S.c)("contacts/addContact",function(){var t=Object(z.a)(F.a.mark((function t(e,n){var r,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,I(e);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),N=Object(S.c)("contacts/deleteContact",function(){var t=Object(z.a)(F.a.mark((function t(e,n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Z(e);case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),D=n(38),M=function(t){return t.contacts.items},P=function(t){return t.contacts.getIsLoading},R=function(t){return t.contacts.filter},T=Object(D.a)([M,R],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),U=Object(S.b)("phoneBook/changeFilter");function $(){var t=Object(m.b)();Object(o.useEffect)((function(){t(r.fetchContacts())}),[t]);var e=Object(m.c)(a.getVisibleContacts);return Object(x.jsx)(w,{children:e.length>0&&e.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(x.jsxs)(y,{children:[Object(x.jsx)(O.a,{}),a,": ",c,Object(x.jsxs)(C,{onClick:function(){return t(r.deleteContact(n))},children:[Object(x.jsx)(g.a,{}),"Delete"]})]},n)}))})}var G=n(44),H=n(95),K=n(96);var Q=Object(v.a)("form",{target:"e11wo7g03"})(""),X=Object(v.a)("label",{target:"e11wo7g02"})({name:"1bxhhbb",styles:"display:flex;flex-direction:column;max-width:400px;margin-bottom:25px"}),Y=Object(v.a)("input",{target:"e11wo7g01"})({name:"1n2s3mw",styles:"border:1px solid lightblue;border-radius:4px;font-size:20px;&:focus{outline:none;border:1px solid #2196f3;}"}),_=Object(v.a)("button",{target:"e11wo7g00"})({name:"1vnx97q",styles:"display:flex;align-items:center;justify-content:center;margin-bottom:25px;min-width:200px;padding:2px 32px;box-shadow:0px 4px 4px rgba(0, 0, 0, 0.15);border-radius:4px;border-style:none;cursor:pointer;font-weight:bold;font-size:16px;line-height:1.88;letter-spacing:0.06em;color:#ffffff;background-color:#2196f3;& svg{height:18px;width:18px;margin-right:10px;}"});function tt(){var t=Object(m.b)(),e=Object(m.c)(a.getContacts),n=Object(K.a)({initialValues:{name:"",number:""},validationSchema:G.a({name:G.b().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.").notOneOf(e.map((function(t){return t.name})),"\u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442").required("O\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),number:G.b().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +").required("O\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),onSubmit:function(e,n){var a=n.setSubmitting,c=n.resetForm;t(r.addContact({name:e.name,number:e.number})),a(!1),c()}}),c=n.handleSubmit,u=n.handleChange,i=n.isSubmitting,o=n.values,s=n.touched,b=n.errors;return Object(x.jsxs)(Q,{onSubmit:c,children:[Object(x.jsxs)(X,{children:["Name",Object(x.jsx)(Y,{name:"name",type:"text",onChange:u,value:o.name}),s.name&&b.name?Object(x.jsx)(x.Fragment,{children:b.name}):null]}),Object(x.jsxs)(X,{children:["Number",Object(x.jsx)(Y,{id:"number",name:"number",type:"text",onChange:u,value:o.number}),s.number&&b.number?Object(x.jsx)(x.Fragment,{children:b.number}):null]}),Object(x.jsxs)(_,{type:"submit",disabled:i,children:[Object(x.jsx)(H.a,{})," Add contact"]})]})}var et=function(){var t=Object(m.c)(a.getFilter),e=Object(m.b)();return Object(x.jsxs)(X,{children:["Find contacts by name",Object(x.jsx)(Y,{type:"text",value:t,onChange:function(t){return e(c.changeFilter(t.target.value))}})]})};function nt(){return Object(x.jsxs)(f,{children:[Object(x.jsx)(h,{title:"Phonebook"}),Object(x.jsx)(tt,{}),Object(x.jsx)(et,{}),Object(x.jsx)(h,{title:"Contacts"}),Object(x.jsx)($,{})]})}var rt,at,ct,ut=n(4),it=n(9),ot=n(10),st=Object(S.d)([],(rt={},Object(ut.a)(rt,E.fulfilled,(function(t,e){return e.payload})),Object(ut.a)(rt,J.fulfilled,(function(t,e){return[e.payload].concat(Object(it.a)(t))})),Object(ut.a)(rt,N.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),rt)),bt=Object(S.d)(!1,(at={},Object(ut.a)(at,E.pending,(function(){return!0})),Object(ut.a)(at,E.fulfilled,(function(){return!1})),Object(ut.a)(at,E.rejected,(function(){return!1})),Object(ut.a)(at,J.pending,(function(){return!0})),Object(ut.a)(at,J.fulfilled,(function(){return!1})),Object(ut.a)(at,J.rejected,(function(){return!1})),Object(ut.a)(at,N.pending,(function(){return!0})),Object(ut.a)(at,N.fulfilled,(function(){return!1})),Object(ut.a)(at,N.rejected,(function(){return!1})),at)),lt=Object(S.d)(null,(ct={},Object(ut.a)(ct,E.pending,null),Object(ut.a)(ct,E.rejected,(function(t,e){return e.payload})),Object(ut.a)(ct,J.pending,null),Object(ut.a)(ct,J.rejected,(function(t,e){return e.payload})),Object(ut.a)(ct,N.pending,null),Object(ut.a)(ct,N.rejected,(function(t,e){return e.payload})),ct)),dt=Object(S.d)("",Object(ut.a)({},U,(function(t,e){return e.payload}))),pt=Object(ot.b)({items:st,isLoading:bt,error:lt,filter:dt}),ft=Object(S.a)({reducer:{contacts:pt},devTools:!1});l.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(m.a,{store:ft,children:Object(x.jsx)(nt,{})})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.452388a8.chunk.js.map